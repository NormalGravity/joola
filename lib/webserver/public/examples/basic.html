<html>
<head>
  <title>joola.io SDK Example</title>
  <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css"/>
</head>
<body>
<div class="container">
  <h1>joola.io Examples</h1>

  <h2>Basic</h2>

  <p class="lead">
  </p>

  <p>
  </p>

  <div id="canvas">
    <div id="datepicker"></div>
    <div id="metric-clicks-firefox"></div>
    <div id="metric-clicks-chrome"></div>
  </div>
</div>
<script src="/joola.io.js"></script>
<script>
  joolaio.init({APIToken: '7890'}, function (err) {
    if (err)
      throw err;
    $('#canvas').Canvas({
      title: 'test canvas',
      somevalue: 123,
      datepicker: '#datepicker',

      dimensions: [],
      metrics: [
        {
          key: 'avgclicks',
          name: 'Avg. Clicks',
          dependsOn: ['clicks'],
          aggregation: 'avg'
        }
      ],
      query: {
        timeframe: 'this_hour',
        interval: 'minute',
        realtime: false
      },
      viz: [
        {
          container: '#metric-clicks-firefox',
          type: 'Metric',
          cssClass: 'test-class',
          caption: 'Firefox Clicks',
          query: {
            metrics: ['clicks'],
            filter: [
              ['browser', 'eq', 'Firefox']
            ]
          }
        },
        {
          container: '#metric-clicks-chrome',
          type: 'Metric',
          cssClass: 'test-class',
          caption: 'Chrome Clicks',
          query: {
            metrics: ['clicks'],
            filter: [
              ['browser', 'eq', 'Chrome']
            ]
          }
        }
      ]
    }, function (err, canvas) {
      window.canvas = canvas;
      /*$('#metric-basic').Metric({
       canvas: canvas,
       caption: 'Basic metric', 
       query: {
       timeframe: 'this_month',
       interval: 'minute',
       dimensions: [],
       metrics: ['clicks']
       }
       });*/
    });
  });

</script>
</body>
</html>

