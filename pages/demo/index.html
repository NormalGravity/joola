---
layout: page_no_sidebar
title: Joola in Action
description: A simple demo showing how we embed a full analytics solution within a website.
---

<div class="row">
  <div class="col-md-12"><p>The demo responds to actions and events on this page. Everytime you move your mouse, visit
    the page or click on it, an event is pushed into Joola and then visualized.</p></div>
  <div class="col-md-6"><p>When you move your mouse the following document is pushed to Joola:</p>
      <pre lang="javascript" class="prettyprint">
var event = {
  timestamp: null,
  browser: 'Chrome',
  os: 'Linux',
  userid: 'demo user',
  moves: 1
};

joola.insert('mousemoves', event);</pre>
   
  </div>
  <div class="col-md-6"><p>Drawing visualizations is as easy as describing what you would like to see.</p><pre
      lang="javascript" class="prettyprint">var query = {
  timeframe: 'last_hour',
  interval: 'minute',
  dimensions: ['timestamp'],
  metrics: ['moves'],
  collection: 'mousemoves'
};

new joola.viz.Timeline({container: '#container', query: query});</pre>
    </div>
</div>

<div class="terminal flowing">
  <div class="indicators"><span class="circle"></span><span class="circle"></span><span class="circle"></span></div>
  <div class="terminal-text">
    <div class="terminal-wrapper">
      <div class="b-hero">
        <div style="background-position: 0px -875px;" class="b-logo"></div>
      </div>
      <div id="canvas">
        <div class="col-md-12 canvas-row">
          <div id="datepicker"></div>
          <div id="filters"></div>
        </div>
        <div class="clear-both"></div>
        <div class="col-md-8 canvas-row">
          <div id="timeline"></div>
        </div>
        <div class="col-md-4 canvas-row">
          <div id="bartable1"></div>
        </div>
        <div class="clear-both"></div>
        <div class="col-md-12 canvas-row">
          <div id="table"></div>
        </div>
        <div class="clear-both"></div>
      </div>
    </div>
  </div>
</div>


<script>
  joola.on('ready', function () {
    new joola.viz.Canvas({
      container: '#canvas',
      realtime: false,
      datepicker: {
        container: '#datepicker',
        /*fromdate: new Date(2014, 11, 21),
         todate: new Date(2014, 11, 22, 23, 59, 59, 999),
         compare_fromdate: new Date(2014, 11, 20),
         compare_todate: new Date(2014, 11, 21, 23, 59, 59, 999),
         compare: true*/
      },
      filterbox: {
        container: '#filters'
      },
      visualizations: {
        bartable1: {
          type: 'bartable',
          caption: 'Mouse moves',
          container: '#bartable1',
          query: {
            dimensions: [
              {key: 'browser', name: 'Browser'}
            ],
            metrics: ['moves'],
            collection: 'moves',
            orderby: [
              ['moves', 'DESC']
            ]
          },
          /*select: function (ref) {
           console.log('select', ref);
           }*/
        },
        bartable2: {
          type: 'bartable',
          caption: 'Clicks',
          container: '#bartable2',
          query: {
            dimensions: ['engine'],
            metrics: ['clicks'],
            collection: 'clicks',
            orderby: [
              ['clicks', 'DESC']
            ]
          },
          //select: false
        },
        bartable3: {
          type: 'bartable',
          caption: 'Visits',
          container: '#bartable3',

          query: {
            dimensions: ['browser'],
            metrics: ['visits'],
            collection: 'visits',
            orderby: [
              ['visits', 'DESC']
            ]
          }
        },
        table: {
          container: '#table',
          type: 'table',
          caption: '',
          pickers: {
            primary: {
              enabled: true,
              caption: 'Primary dimension...',
              allowRemove: false
            },
            add_dimension: {
              enabled: true,
              caption: 'Add dimension...',
              allowRemove: false,
              allowSelect: false
            },
            add_metric: {
              enabled: true,
              caption: 'Add metric...',
              allowRemove: false,
              allowSelect: false
            }
          },
          query: {
            dimensions: [
              {key: 'browser', description: 'The browser used'},
              {
                key: 'engine',
                description: 'The engine used'
              }
            ],
            metrics: [
              {key: 'moves', name: 'Mouse moves'},
              {key: 'clicks', collection: 'clicks'},
              {
                key: 'visits',
                collection: 'visits'
              }
            ],
            collection: 'moves',
            orderby: [
              ['moves', 'DESC']
            ]
          }
        },
        timeline: {
          container: '#timeline',
          type: 'timeline',
          chart: {
            chart: {
              height: 250,
              type: 'line'
            },
            yAxis: [
              {
                min: 0,
              },
              {
                min: 0,
              }
            ]
          },
          pickers: {
            main: {
              enabled: true
            },
            secondary: {
              enabled: true
            }
          },
          query: {
            dimensions: ['timestamp'],
            metrics: [
              {key: 'moves', name: 'Mouse moves'},
            ],
            collection: 'moves'
          }
        }
      }
    });

  });
</script>